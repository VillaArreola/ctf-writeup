<!-- Nuevo menÃº responsive mejorado con sticky y animaciÃ³n -->
<header 
  class="fixed top-0 left-0 right-0 z-50 transition-transform duration-300" 
  x-data="{ open: false, lastScrollY: 0, isVisible: true }"
  x-init="
    window.addEventListener('scroll', () => {
      const currentScrollY = window.scrollY;
      if (currentScrollY > lastScrollY && currentScrollY > 100) {
        // Scrolling down - hide navbar
        isVisible = false;
      } else {
        // Scrolling up - show navbar
        isVisible = true;
      }
      lastScrollY = currentScrollY;
    });
  "
  :class="isVisible ? 'translate-y-0' : '-translate-y-full'"
>
  <div class="relative bg-gradient-to-r from-black via-gray-800 to-black border-b border-gray-800">
    <!-- PatrÃ³n de textura sutil -->
    <div class="absolute inset-0 bg-gradient-to-r from-cyan-800/20 via-blue-800/15 to-cyan-800/20"></div>
    
    <!-- Barra superior -->
    <div class="relative flex items-center justify-between w-full px-6 py-4">
      <!-- Lado izquierdo: Logo y navegaciÃ³n principal -->
      <div class="flex items-center space-x-8">
        <!-- Logo -->
        <div class="flex items-center space-x-2 text-cyan-400 text-2xl font-bold">
          <a href="/">
            <img src="/images/MVLOGO.png" alt="Logo" class="w-14 h-14">
          </a>
          <span class="text-white">Writeups</span>
        </div>

        <!-- Separador vertical -->
        <div class="h-8 w-px bg-gradient-to-b from-cyan-400/70 to-transparent"></div>

        <!-- MenÃº horizontal (solo visible en sm+) -->
        <nav class="hidden sm:flex items-center space-x-6 text-sm text-cyan-400">
          <a href="/" class="hover:underline hover:text-cyan-300 transition-colors">Home</a>
          <a href="/ctf/htb" class="hover:underline hover:text-cyan-300 transition-colors">HTB</a>
          <a href="/ctf/thm" class="hover:underline hover:text-cyan-300 transition-colors">THM</a>
          <a href="/ctf/ciberlabs" class="hover:underline hover:text-cyan-300 transition-colors">CiberLabs</a>
        </nav>
      </div>

      <!-- Lado derecho: Otros proyectos y contacto -->
      <div class="hidden sm:flex items-center space-x-6 text-sm">
        <!-- Separador vertical -->
        <div class="h-8 w-px bg-gradient-to-b from-cyan-400/70 to-transparent"></div>
        
        <!-- Otros proyectos -->
        <div class="flex items-center space-x-4 text-cyan-400">
          <a href="https://cheats1sheets.com" target="_blank" class="hover:underline hover:text-cyan-300 transition-colors">
            ğŸ“‹ Cheats1sheets
          </a>
          <a href="https://kb.villaarreola.com" target="_blank" class="hover:underline hover:text-cyan-300 transition-colors">
            ğŸ“š Knowledge Base
          </a>
        </div>

        <!-- Separador vertical -->
        <div class="h-8 w-px bg-gradient-to-b from-cyan-400/70 to-transparent"></div>

        <!-- Redes sociales -->
        <div class="flex items-center space-x-3 text-cyan-400">
          <a href="https://twitter.com/tu_usuario" target="_blank" class="hover:text-cyan-300 transition-colors" title="Twitter">ğŸ¦</a>
          <a href="https://github.com/tu_usuario" target="_blank" class="hover:text-cyan-300 transition-colors" title="GitHub">ğŸ’»</a>
          <a href="https://linkedin.com/in/tu_usuario" target="_blank" class="hover:text-cyan-300 transition-colors" title="LinkedIn">ğŸ’¼</a>
        </div>
      </div>

      <!-- BotÃ³n menÃº â˜° para mobile -->
      <button @click="open = !open" class="sm:hidden text-cyan-400 focus:outline-none">
        <template x-if="!open">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </template>
        <template x-if="open">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </template>
      </button>
    </div>

    <!-- Overlay -->
    <div
      x-show="open"
      x-transition.opacity
      x-cloak
      @click="open = false"
      class="fixed inset-0 top-[4.5rem] backdrop-blur-sm z-40 sm:hidden"
    ></div>

    <!-- MenÃº lateral derecho compacto para mÃ³viles -->
    <aside
      x-show="open"
      x-cloak
      x-transition:enter="transition ease-out duration-300"
      x-transition:enter-start="translate-x-full"
      x-transition:enter-end="translate-x-0"
      x-transition:leave="transition ease-in duration-200"
      x-transition:leave-start="translate-x-0"
      x-transition:leave-end="translate-x-full"
      class="fixed top-[3.5rem] right-0 h-full w-[30vw] bg-black/90 border-l-2 border-cyan-500 z-50 p-4 text-sm sm:hidden flex flex-col space-y-4"
    >
      <div class="flex justify-between items-center mb-2">
      </div>
      <a @click="open = false" href="/" class="hover:underline text-cyan-400">ğŸ  Home</a>
      <a @click="open = false" href="/ctf/htb" class="hover:underline text-cyan-400">ğŸ§  HTB</a>
      <a @click="open = false" href="/ctf/thm" class="hover:underline text-cyan-400">ğŸ” THM</a>
      
      <!-- Separador en mÃ³vil -->
      <div class="border-t border-cyan-700 pt-2 mt-2">
        <p class="text-xs mb-2 text-gray-400">Otros Proyectos</p>
        <a @click="open = false" href="https://cheats1sheets.com" target="_blank" class="block text-cyan-400 hover:underline">ğŸ“‹ Cheats1sheets</a>
        <a @click="open = false" href="https://kb.villaarreola.com" target="_blank" class="block text-cyan-400 hover:underline">ğŸ“š Knowledge Base</a>
      </div>
      
      <div class="border-t border-cyan-700 pt-2 mt-2 text-gray-400">
        <p class="text-xs mb-1">Contacto</p>
        <a href="mailto:contacto@villaarreola.com" class="block text-cyan-400 text-xs hover:underline">âœ‰ contacto@villaarreola.com</a>
        <div class="flex gap-3 mt-2">
          <a href="https://twitter.com/tu_usuario" target="_blank" class="hover:text-cyan-300">ğŸ¦</a>
          <a href="https://github.com/tu_usuario" target="_blank" class="hover:text-cyan-300">ğŸ’»</a>
          <a href="https://linkedin.com/in/tu_usuario" target="_blank" class="hover:text-cyan-300">ğŸ’¼</a>
        </div>
      </div>
    </aside>

    <!-- MenÃº inferior flotante tipo app (visible solo en mÃ³viles) -->
    <nav class="fixed bottom-0 left-0 right-0 flex justify-around bg-black border-t border-cyan-800 py-2 sm:hidden z-50">
      <a href="/" class="text-white text-xs text-center"><span class="block text-lg">ğŸ </span>Home</a>
      <a href="/ctf/htb" class="text-cyan-400 text-xs text-center"><span class="block text-lg">ğŸ§ </span>HTB</a>
      <a href="/ctf/thm" class="text-cyan-400 text-xs text-center"><span class="block text-lg">ğŸ”</span>THM</a>
    </nav>
  </div>
</header>

<!-- Espaciador para compensar el navbar fijo -->
<div class="h-20"></div>
